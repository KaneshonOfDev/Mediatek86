-- MySQL Script generated by MySQL Workbench
-- Mon Jun  5 10:46:51 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema mediatek86
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mediatek86
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mediatek86` DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ;
USE `mediatek86` ;

-- -----------------------------------------------------
-- Drop all
-- -----------------------------------------------------
SET FOREIGN_KEY_CHECKS = 0;

DROP TABLE IF EXISTS `mediatek86`.`absence`;
DROP TABLE IF EXISTS `mediatek86`.`personnel`;
DROP TABLE IF EXISTS `mediatek86`.`service`;
DROP TABLE IF EXISTS `mediatek86`.`motif`;
DROP TABLE IF EXISTS `mediatek86`.`responsable`;

SET FOREIGN_KEY_CHECKS = 1;

-- -----------------------------------------------------
-- Table `mediatek86`.`responsable`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mediatek86`.`responsable` (
  `login` VARCHAR(64) NULL DEFAULT NULL,
  `pwd` VARCHAR(64) NULL DEFAULT NULL)
ENGINE = MyISAM
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;

INSERT INTO `responsable` (`login`, `pwd`) VALUES
('admin', SHA2('mediatek86', 256));

-- -----------------------------------------------------
-- Table `mediatek86`.`motif`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mediatek86`.`motif` (
  `idmotif` INT NOT NULL AUTO_INCREMENT,
  `libelle` VARCHAR(128) NULL DEFAULT NULL,
  PRIMARY KEY (`idmotif`))
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;

INSERT INTO `motif` (`idmotif`, `libelle`) VALUES
(1, 'vacances'),
(2, 'maladie'),
(3, 'motif familial'),
(4, 'cong√© parental');

-- -----------------------------------------------------
-- Table `mediatek86`.`service`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mediatek86`.`service` (
  `idservice` INT NOT NULL AUTO_INCREMENT,
  `nom` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`idservice`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;

INSERT INTO `service` (`idservice`, `nom`) VALUES
(1, 'administratif'),
(2, 'mediation culturelle'),
(3, 'pret');

-- -----------------------------------------------------
-- Table `mediatek86`.`personnel`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mediatek86`.`personnel` (
  `idpersonnel` INT NOT NULL AUTO_INCREMENT,
  `idservice` INT NOT NULL,
  `nom` VARCHAR(50) NULL DEFAULT NULL,
  `prenom` VARCHAR(50) NULL DEFAULT NULL,
  `tel` VARCHAR(15) NULL DEFAULT NULL,
  `mail` VARCHAR(128) NULL DEFAULT NULL,
  PRIMARY KEY (`idpersonnel`),
  INDEX `i_fk_personnel_service1` (`idservice` ASC) VISIBLE,
  CONSTRAINT `personnel_ibfk_1`
    FOREIGN KEY (`idservice`)
    REFERENCES `mediatek86`.`service` (`idservice`))
ENGINE = InnoDB
AUTO_INCREMENT = 26
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;

INSERT INTO `personnel` (`idpersonnel`, `idservice`, `nom`, `prenom`, `tel`, `mail`) VALUES
(1,2,"Aurelia Yates","Duke","06 56 12 96 21","in.aliquet@google.couk"),
(2,1,"Malcolm Blake","George","07 74 21 58 79","aliquet.odio.etiam@aol.ca"),
(3,2,"Richard Burks","Greer","05 10 58 35 62","mi.lacinia@icloud.com"),
(4,1,"Aladdin Dean","Jefferson","04 95 56 23 88","consequat.enim@protonmail.net"),
(5,3,"Branden Nixon","Mullins","03 13 48 47 18","elit@google.com"),
(6,2,"Cyrus Galloway","Gillespie","02 05 88 92 35","ipsum.primis@outlook.couk"),
(7,1,"Dean Perry","Mathis","06 17 11 51 98","etiam.laoreet.libero@aol.org"),
(8,1,"Clementine Bray","Sampson","04 14 98 62 26","maecenas@protonmail.org"),
(9,2,"Illiana Mclaughlin","Rosario","05 68 12 46 34","nisi@protonmail.edu"),
(10,3,"Brock Little","Johns","06 51 24 42 40","magnis.dis@aol.couk");

-- -----------------------------------------------------
-- Table `mediatek86`.`absence`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mediatek86`.`absence` (
  `idpersonnel` INT NOT NULL,
  `datedebut` DATETIME NOT NULL,
  `idmotif` INT NOT NULL,
  `datefin` DATETIME NOT NULL,
  PRIMARY KEY (`idpersonnel`, `datedebut`),
  INDEX `i_fk_absence_motif1` (`idmotif` ASC) VISIBLE,
  INDEX `i_fk_absence_personnel1` (`idpersonnel` ASC) VISIBLE,
  CONSTRAINT `absence_ibfk_1`
    FOREIGN KEY (`idmotif`)
    REFERENCES `mediatek86`.`motif` (`idmotif`),
  CONSTRAINT `absence_ibfk_2`
    FOREIGN KEY (`idpersonnel`)
    REFERENCES `mediatek86`.`personnel` (`idpersonnel`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;

INSERT INTO `absence` (`idpersonnel`, `datedebut`, `idmotif`, `datefin`) VALUES
(1,"2023-05-31 16:42:13",1,"2023-05-14 09:45:38"),
(2,"2022-09-12 04:18:01",2,"2024-03-31 11:32:49"),
(3,"2023-12-27 22:56:27",3,"2022-09-13 06:46:38"),
(4,"2023-12-07 15:44:52",4,"2024-04-17 00:57:25"),
(5,"2023-04-08 07:45:05",1,"2023-07-17 20:37:22"),
(6,"2022-09-17 03:44:00",2,"2022-11-16 03:52:34"),
(7,"2024-05-26 23:08:52",3,"2023-03-17 19:45:20"),
(8,"2024-05-07 14:34:04",4,"2022-07-18 18:27:38"),
(9,"2023-12-15 17:05:46",4,"2024-01-07 04:37:45"),
(1,"2022-12-02 11:06:57",3,"2022-12-29 16:56:51"),
(2,"2023-03-18 21:21:41",2,"2023-12-10 08:22:03"),
(3,"2023-07-29 03:41:18",3,"2024-01-21 00:50:38"),
(4,"2024-04-07 05:03:51",4,"2024-01-12 02:57:53"),
(5,"2023-11-15 02:32:10",2,"2023-06-14 13:57:43"),
(6,"2022-10-03 00:27:37",1,"2023-11-20 19:45:08"),
(7,"2023-01-04 06:11:26",2,"2022-10-20 03:38:57"),
(8,"2023-06-20 07:58:04",3,"2022-10-22 23:59:23"),
(9,"2024-06-01 22:35:01",4,"2023-02-06 22:47:50"),
(10,"2023-05-13 21:22:33",1,"2022-06-05 21:44:27"),
(2,"2024-05-18 12:51:50",2,"2024-02-22 07:45:05"),
(3,"2024-05-30 13:04:46",3,"2024-01-30 00:26:38"),
(4,"2024-02-10 19:15:01",3,"2023-09-22 10:11:23"),
(5,"2024-02-17 10:13:48",2,"2024-01-15 15:35:35"),
(6,"2023-03-10 05:04:22",3,"2023-05-25 07:23:29"),
(7,"2022-09-08 20:43:43",1,"2023-01-04 20:21:29"),
(8,"2024-03-28 04:46:54",1,"2022-12-17 18:54:56"),
(9,"2022-07-14 02:08:30",3,"2023-10-18 06:53:04"),
(1,"2023-11-08 19:36:29",2,"2023-06-04 15:34:24"),
(2,"2023-12-26 19:47:09",2,"2024-02-23 07:09:26"),
(3,"2022-08-14 08:36:08",4,"2022-09-29 14:05:46"),
(4,"2024-04-28 17:19:57",2,"2024-03-30 13:44:49"),
(5,"2024-05-09 18:55:22",1,"2022-09-11 22:14:15"),
(6,"2023-04-23 15:14:00",3,"2023-07-30 07:28:33"),
(7,"2023-09-11 08:09:35",4,"2023-12-19 23:18:18"),
(8,"2023-06-30 23:23:13",3,"2022-10-11 00:14:57"),
(10,"2022-09-27 21:38:43",2,"2023-01-01 22:28:50"),
(1,"2024-03-28 23:57:24",1,"2023-12-20 13:46:23"),
(2,"2022-09-10 06:24:22",3,"2023-09-22 15:05:58"),
(3,"2022-08-11 09:59:37",2,"2023-04-26 22:42:03"),
(4,"2024-04-01 12:50:09",3,"2023-10-17 12:22:49"),
(5,"2022-11-17 06:11:17",1,"2023-10-31 10:38:36"),
(6,"2023-11-25 16:31:12",2,"2024-03-30 02:59:17"),
(7,"2024-05-25 22:14:56",3,"2023-09-27 19:25:20"),
(8,"2022-12-02 08:32:20",4,"2023-03-06 14:32:53"),
(9,"2024-02-26 15:17:07",1,"2023-01-20 20:01:36");


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
